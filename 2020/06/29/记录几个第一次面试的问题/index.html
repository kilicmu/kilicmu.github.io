

<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>记录几个第一次面试的问题 - herin の 部落格</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="google" content="notranslate" />

  
  <meta name="keywords" content="undefined"> 
  
  <meta name="description" content="第一次面试，很突然，很多东西答得稀烂，这里整理一下：
..."> 
  
  <meta name="author" content="herin"> 

  
    <link rel="icon" href="/images/icons/favicon-16x16.png" type="image/png" sizes="16x16">
  
  
    <link rel="icon" href="/images/icons/favicon-32x32.png" type="image/png" sizes="32x32">
  
  
    <link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png" sizes="180x180">
  
  
    <meta rel="mask-icon" href="/images/icons/stun-logo.svg" color="#333333">
  
  
    <meta rel="msapplication-TileImage" content="/images/icons/favicon-144x144.png">
    <meta rel="msapplication-TileColor" content="#000000">
  

  
<link rel="stylesheet" href="/css/style.css">


  
  
<link rel="stylesheet" href="//at.alicdn.com/t/font_1445822_h1619vhl1nr.css">

  

  
  
  
<link rel="stylesheet" href="https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.css">

  

  
  
  
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/xcode.min.css">

  

  <script>
    var CONFIG = window.CONFIG || {};
    var ZHAOO = window.ZHAOO || {};
    CONFIG = {
      isHome: false,
      fancybox: true,
      pjax: false,
      lazyload: {
        enable: true,
        loadingImage: '',
      },
      donate: {
        enable: true,
        alipay: '/images/others/alipay.jpg',
        wechat: '/images/others/wechat.jpg'
      },
      motto: {
        api: '',
        default: 'fading is true while flowering is past。'
      },
      galleries: {
        enable: true
      },
      fab: {
        enable: true,
        alwaysShow: false
      },
      carrier: {
        enable: true
      },
      daovoice: {
        enable: true
      }
    }
  </script>

  

  
<meta name="generator" content="Hexo 5.3.0"></head>
<body class="lock-screen">
  <div class="loading"></div>
  


<nav class="navbar">
  <div class="left"></div>
  <div class="center">记录几个第一次面试的问题</div>
  <div class="right">
    <i class="iconfont iconmenu j-navbar-menu"></i>
  </div>
</nav>

  <nav class="menu">
  <div class="menu-wrap">
    <div class="menu-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <ul class="menu-content">
      
      
      
      
      <li class="menu-item"><a href="/ " class="underline"> 首页</a></li>
      
      
      
      
      <li class="menu-item"><a href="/galleries " class="underline"> 摄影</a></li>
      
      
      
      
      <li class="menu-item"><a href="/archives " class="underline"> 归档</a></li>
      
      
      
      
      <li class="menu-item"><a href="/tags " class="underline"> 标签</a></li>
      
      
      
      
      <li class="menu-item"><a href="/categories " class="underline"> 分类</a></li>
      
      
      
      
      <li class="menu-item"><a href="/about " class="underline"> 关于</a></li>
      
    </ul>
    <div class="menu-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/izhaoo/hexo-theme-zhaoo">zhaoo</a></p></div>
  </div>
</nav>
  <main id="main">
  <div class="container" id="container">
    <article class="article">
  <div class="wrap">
    <section class="head">
  <img   class="lazyload" data-original="https://i.niupic.com/images/2020/10/31/8Wdq.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="  draggable="false">
  <div class="head-mask">
    <h1 class="head-title">记录几个第一次面试的问题</h1>
    <div class="head-info">
      <span class="post-info-item"><i class="iconfont iconcalendar"></i>June 29, 2020</span
        class="post-info-item">
      
      <span class="post-info-item"><i class="iconfont iconfont-size"></i>7451</span>
    </div>
  </div>
</section>
    <section class="main">
      <section class="content">
        <h1 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h1><h2 id="0-1-0-2-0-3-问题"><a href="#0-1-0-2-0-3-问题" class="headerlink" title="0.1+0.2!=0.3 问题"></a>0.1+0.2!=0.3 问题</h2><p>一句话解释是浮点存储误差问题</p>
<p>IEEE754 标准 64 位双精度浮点数</p>
<p><img   class="lazyload" data-original="https://user-gold-cdn.xitu.io/2019/12/1/16ec1f7a1f614ffc?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="  alt="img"></p>
<p>0.1 与 0.2 的二进制：</p>
<p><img   class="lazyload" data-original="https://i.niupic.com/images/2020/07/02/8mfZ.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="  alt="image-20200702234224195"></p>
<p>这里有一个问题，可以明显的看出来这两个数转换为二进制的时候死循环了。。。。。。</p>
<p>所以有误差是肯定的，当把这两个二进制数相加以后，转换为十进制就是以下的效果：</p>
<p><img   class="lazyload" data-original="https://i.niupic.com/images/2020/06/29/8ldo.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="  alt="image-20200629192853406"></p>
<h2 id="JS-变量提升顺序"><a href="#JS-变量提升顺序" class="headerlink" title="JS 变量提升顺序"></a>JS 变量提升顺序</h2><p>看以前的博客（认识 JavaScript 细节）</p>
<h2 id="ES6-特性整理："><a href="#ES6-特性整理：" class="headerlink" title="ES6+特性整理："></a>ES6+特性整理：</h2><p>防忘，很多东西用的使用才能想起来，面试全忘了。。。。。。</p>
<p>ES6：</p>
<ul>
<li>let 与 const(块作用域)</li>
<li>类(class / extend)</li>
<li>模块化(ES6 Module)</li>
<li>箭头函数(this 绑定词法上下文)</li>
<li>函数参数默认值</li>
<li>模板字符串</li>
<li>解构赋值</li>
<li>延展操作符</li>
<li>对象属性简写</li>
<li>Promise</li>
</ul>
<p>ES7</p>
<ul>
<li>Array.prototype.includes()</li>
<li><code>**</code> 操作符</li>
</ul>
<p>ES8:</p>
<ul>
<li>async/await</li>
<li><code>Object.values()</code>：ps: 这个竟然是 ES8 新增的！！</li>
<li><code>Object.entries()</code></li>
<li><code>padStart()</code>和<code>padEnd()</code>，填充字符串达到当前长度</li>
<li>函数参数列表结尾允许逗号</li>
<li><code>Object.getOwnPropertyDescriptors()</code></li>
<li><code>ShareArrayBuffer</code>和<code>Atomics</code>对象，用于从共享内存位置读取和写入</li>
</ul>
<p>ES9： <strong>ps：除了 finally 和 Rest/Spread 基本没用过哎</strong></p>
<ul>
<li><p>异步迭代</p>
<p>支持使用循环异步语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">process</span>(<span class="hljs-params">array</span>) </span>&#123;<br>  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> i <span class="hljs-keyword">of</span> array) &#123;<br>    syncDo(i);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
<li><p>Promise.finally()</p>
</li>
<li><p>Rest/Spread 属性： <strong>ps：这个是 ES9 新增。。。</strong></p>
</li>
<li><p><a href="https://link.juejin.im/?target=http%3A%2F%2Fesnext.justjavac.com%2Fproposal%2Fregexp-named-groups.html">正则表达式命名捕获组</a>（Regular Expression Named Capture Groups）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> reDate = <span class="hljs-regexp">/([0-9]&#123;4&#125;)-([0-9]&#123;2&#125;)-([0-9]&#123;2&#125;)/</span>,<br>  match = reDate.exec(<span class="hljs-string">&quot;2020-06-29&quot;</span>),<br>  year = match[<span class="hljs-number">1</span>], <span class="hljs-comment">// 2020</span><br>  month = match[<span class="hljs-number">2</span>], <span class="hljs-comment">// 06</span><br>  day = match[<span class="hljs-number">3</span>]; <span class="hljs-comment">// 29</span><br><span class="hljs-comment">// 分组匹配</span><br><span class="hljs-keyword">const</span> reDate = <span class="hljs-regexp">/(?&lt;year&gt;[0-9]&#123;4&#125;)-(?&lt;month&gt;[0-9]&#123;2&#125;)-(?&lt;day&gt;[0-9]&#123;2&#125;)/</span>,<br>  match = reDate.exec(<span class="hljs-string">&quot;2020-06-29&quot;</span>),<br>  year = match.groups.year, <span class="hljs-comment">// 2020</span><br>  month = match.groups.month, <span class="hljs-comment">// 06</span><br>  day = match.groups.day; <span class="hljs-comment">// 29</span><br></code></pre></td></tr></table></figure></li>
<li><p><a href="https://link.juejin.im/?target=https%3A%2F%2Fsegmentfault.com%2Fa%2F1190000006824133">正则表达式反向断言</a>（lookbehind）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">reLookbehind = <span class="hljs-regexp">/(?&lt;=\D)\d+/</span>; <span class="hljs-comment">//肯定反向断言</span><br>relookbehindNeg = <span class="hljs-regexp">/(?&lt;!\D)\d+/</span>;<br></code></pre></td></tr></table></figure></li>
<li><p>正则表达式 dotAll 模式</p>
<p>正则表达式中点<code>.</code>匹配除回车外的任何单字符，标记<code>s</code>改变这种行为，允许行终止符的出现，例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">/hello.world/.test(<span class="hljs-string">&quot;hello\nworld&quot;</span>); <span class="hljs-comment">// false</span><br>/hello.world/s.test(<span class="hljs-string">&quot;hello\nworld&quot;</span>); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>
<p>ES10：</p>
</li>
<li><p>更加友好的 JSON.stringify</p>
</li>
<li><p>新增了 Array 的<code>flat()</code>方法和<code>flatMap()</code>方法</p>
</li>
<li><p>新增了 String 的<code>trimStart()</code>方法和<code>trimEnd()</code>方法</p>
</li>
<li><p><code>Object.fromEntries()</code></p>
</li>
<li><p><code>Symbol.prototype.description</code></p>
</li>
<li><p><code>String.prototype.matchAll</code></p>
</li>
<li><p><code>Function.prototype.toString()</code>现在返回精确字符，包括空格和注释</p>
</li>
<li><p>简化<code>try &#123;&#125; catch &#123;&#125;</code>,修改 <code>catch</code> 绑定</p>
</li>
<li><p>新的基本数据类型<code>BigInt</code></p>
</li>
<li><p>globalThis</p>
</li>
<li><p>import()</p>
</li>
<li><p>Legacy RegEx</p>
</li>
<li><p>私有的实例方法和访问器</p>
</li>
</ul>
<p>很多时候感觉被 babel 惯坏了，不管 ES 几随便写转换完都能用。。。。。。</p>
<h2 id="Vue-常用指令"><a href="#Vue-常用指令" class="headerlink" title="Vue 常用指令"></a>Vue 常用指令</h2><p>都用过为啥一问就想不起来。。。。。</p>
<p>v-bind</p>
<p>v-if</p>
<p>v-else</p>
<p>v-show</p>
<p>v-on</p>
<p>v-else-if</p>
<p>v-for</p>
<p>v-once</p>
<p>v-model</p>
<p>v-text</p>
<p>v-html</p>
<p>v-slot</p>
<p>v-clock</p>
<h2 id="Vuex-刷新数据不保留问题："><a href="#Vuex-刷新数据不保留问题：" class="headerlink" title="Vuex 刷新数据不保留问题："></a>Vuex 刷新数据不保留问题：</h2><p>找了这么篇文章：</p>
<p><a href="https://www.cnblogs.com/zhongchao666/p/9567527.html">https://www.cnblogs.com/zhongchao666/p/9567527.html</a></p>
<p>这个问题其实挺好理解的，就是 SPA 路由是无跳转路由（可以看我以前的一篇前端路由文章），使用了 Vuex 后用户的刷新会导致 Vuex 数据的重置。</p>
<p>所以我们需要本来有的数据 F5 刷新后页面重载，数据销毁，所以导致了这个问题</p>
<p>解决方法：</p>
<ol>
<li>loaclStorage 存储</li>
</ol>
<p>将 this.$store.state.PV 存入到缓存里之后，然后监听页面重载事件，如果页面重新载入了，那就从缓存里读取数据，然后赋值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-title">created</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">localStorage</span>.getItem(<span class="hljs-string">&#x27;msg&#x27;</span>) &amp;&amp; <span class="hljs-built_in">this</span>.$store.replaceState(<br>        <span class="hljs-built_in">Object</span>.assign(<span class="hljs-built_in">this</span>.$store.state, <span class="hljs-built_in">JSON</span>.parse( <span class="hljs-comment">// 这里只要获取对象的引用即可</span><br>            <span class="hljs-built_in">localStorage</span>.getItem(<span class="hljs-string">&quot;msg&quot;</span>)<br>        )<br>      )<br>    )<br>    <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&quot;beforeunload&quot;</span>,<span class="hljs-function">()=&gt;</span>&#123;<br>       <span class="hljs-built_in">localStorage</span>.setItem(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-built_in">this</span>.$store.state))<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>
<ol start="2">
<li><p>插件 vuex-persistedstate</p>
<p>安装：</p>
<p><code>yarn add vuex-persistedstate</code></p>
<p>使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> createPersistedState <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex-persistedstate&quot;</span><br><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> Vuex.Store(&#123;<br>  <span class="hljs-comment">// ...</span><br>  plugins: [createPersistedState(<br>  	  storage: <span class="hljs-built_in">window</span>.sessionStorage,<br>      <span class="hljs-function"><span class="hljs-title">reducer</span>(<span class="hljs-params">val</span>)</span> &#123;<br>          <span class="hljs-keyword">return</span> &#123;<br>          <span class="hljs-comment">// 只储存state中的user</span><br>          user: val.user<br>        &#125;<br>      &#125;<br>  )]<br>&#125;)<br></code></pre></td></tr></table></figure>
<h1 id="再看-CSS："><a href="#再看-CSS：" class="headerlink" title="再看 CSS："></a>再看 CSS：</h1></li>
</ol>
<h2 id="CSS3-新增"><a href="#CSS3-新增" class="headerlink" title="CSS3 新增"></a>CSS3 新增</h2><p>过渡：transition</p>
<p>动画：animation</p>
<p>形变： transform</p>
<p>选择器：nth-xx</p>
<p>阴影：box-shadow</p>
<p>边框：border-image</p>
<p>背景：background-clip 背景绘制</p>
<p>反射：webkit-box-reflect:</p>
<p>颜色：rgba 支持</p>
<p>弹性布局：flex</p>
<p>栅格布局：grid</p>
<p>多列布局</p>
<p>盒模型：box-sizing：border-box</p>
<p>媒体查询 @media</p>
<h2 id="Flex-布局"><a href="#Flex-布局" class="headerlink" title="Flex 布局"></a>Flex 布局</h2><p>这个地方我真的是，，，，，</p>
<p>Flex 布局：弹性布局</p>
<p>Flex 布局特点：与方向无关</p>
<p>Flex 布局适合简单的线性布局</p>
<p>几个常用的属性：</p>
<ul>
<li><p>flex-direction：决定主轴的方向</p>
<p>row: 水平 左-&gt;右</p>
<p>rot-reverse：水平 右-&gt;左</p>
<p>column：主轴垂直从上到下</p>
<p>column：主轴垂直从下到上</p>
</li>
<li><p>flex-wrap：是否换行</p>
<p>nowrap：默认不换行</p>
<p>wrap：换行，第一行在上</p>
<p>wrap-reverse：换行，第一行在下</p>
</li>
<li><p>flex-flow：<code>flex-direction</code>和<code>flex-wrap</code>的组合</p>
</li>
<li><p>justify-content：定义子元素在主轴的对齐方式</p>
<p>flex-start</p>
<p>flex-end</p>
<p>center</p>
<p>space-between</p>
<p>space-around</p>
</li>
<li><p>align-items：定义子元素在侧轴上的对齐方式，主要由 5 种取值：（单行，多行使用 align-content）</p>
<p>strech: 默认值，子元素的高度铺满父元素<br>flex-start: 子元素从侧轴起点对齐<br>flex-end: 子元素从侧轴终点对齐<br>center: 子元素根据侧轴居中对齐<br>baseline: 根据子元素第一行文字的基线对齐(当字体大小不一致时，突出效果</p>
</li>
</ul>
<p>子元素属性:</p>
<ul>
<li><p>flex-grow：当父元素空间有剩余时，将剩余空间分配给各子元素的比例</p>
</li>
<li><p>flex-shrink：各子元素压缩大小，默认为<code>1</code></p>
</li>
<li><p>flex-basis：当父元素有剩余空间时，可通过此属性扩充子元素的空间，设置子元素的空间默认为 auto</p>
</li>
<li><p>flex：<code>flex-grow</code>、<code>flex-shrink</code>和<code>flex-basis</code>的合集 默认 0 1 auto</p>
</li>
<li><p>order：值越小越靠前</p>
</li>
</ul>
<h1 id="HTML5"><a href="#HTML5" class="headerlink" title="HTML5"></a>HTML5</h1><p>没问，但是感觉应该顺带整理一下 H5 新增:</p>
<p>语义化标签支持：</p>
<p>新增一些标签：</p>
<ul>
<li><p>canvas</p>
</li>
<li><p>svg 支持</p>
</li>
<li><p>音视频(video, radio)</p>
</li>
<li><p>表单新元素（tel，email，range，search，url……)</p>
</li>
<li><p>表单新特性（placeholoder，autocomplete，autofocus，spellcheck）</p>
</li>
<li><p>Web Storage API(localStorage, sessionStorage)</p>
</li>
<li><p>Geolocation：可以请求用户共享他们的位置。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> getPosition = navigator.geolocation.getCurrentPosition;<br>getPosition(updateLocation, <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(error);<br>&#125;);<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateLocation</span>(<span class="hljs-params">position</span>) </span>&#123;<br>  <span class="hljs-keyword">const</span> latitude = position.coords.latitude; <span class="hljs-comment">// 纬度</span><br>  <span class="hljs-keyword">const</span> longitude = position.coords.longitude; <span class="hljs-comment">// 经度</span><br>  <span class="hljs-keyword">const</span> accuracy = position.coords.accuracy; <span class="hljs-comment">// 准确度</span><br>  <span class="hljs-keyword">const</span> timestamp = position.coords.timestamp;<br>&#125;<br><span class="hljs-comment">// 监听位置更新</span><br><span class="hljs-keyword">const</span> watchId = navigator.geolocation.watchPostion(<br>  updateLocation,<br>  handleLocationError<br>);<br><span class="hljs-comment">// 取消监视</span><br>navigator.geolocation.clearWatcher(watcheId);<br></code></pre></td></tr></table></figure></li>
<li><p>Communication：跨文档消息通信，可以确保 iframe、标签页、窗口间安全地进行跨源通信。*</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">window</span>.postMessage(<span class="hljs-string">&quot;hello,world&quot;</span>, <span class="hljs-string">&quot;http://www.example.com&quot;</span>);<br><span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&quot;message&quot;</span>, messageHandler, <span class="hljs-literal">true</span>);<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">messageHandler</span>(<span class="hljs-params">e</span>) </span>&#123;<br>  <span class="hljs-keyword">switch</span> (e.origin) &#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;friend.example.com&quot;</span>:<br>      processMessage(e.data);<br>      <span class="hljs-keyword">break</span>;<br>    <span class="hljs-keyword">default</span>:<br>      <span class="hljs-keyword">break</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
<li><p>XMLHttpRequest Level2：改进 XMLHttpRequest</p>
<ul>
<li>旧版：<ul>
<li>仅支持文本的数据传输，无法读取和上传二进制</li>
<li>传送和接收数据时候，没有进度信息</li>
<li>收到同源策略影响</li>
</ul>
</li>
<li>新版：<ul>
<li>可以设置 HTTP 请求时限</li>
<li>课程是由 FormData 管理数据</li>
<li>支持文件上传</li>
<li>可以请求不同域名数据</li>
<li>可以获取服务端二进制数据</li>
<li>可以获取数据传输和进度信息</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//设置超时时间为</span><br>xhr.timeout = <span class="hljs-number">3000</span>;<br><span class="hljs-comment">// 监听错误处理</span><br>xhr.ontimeout = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>&#123;<br>  handleTimeout(e);<br>&#125;;<br><span class="hljs-comment">// 模拟表单提交</span><br><span class="hljs-keyword">const</span> formData2 = <span class="hljs-keyword">new</span> FormData($(<span class="hljs-string">&quot;#form&quot;</span>)); <span class="hljs-comment">// 初始化已有表单</span><br>xhr.open(formData2.method, formData2.action);<br>xhr.send(formDatat2); <span class="hljs-comment">//表单提交</span><br><span class="hljs-comment">// 文件上传</span><br><span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> FormData();<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; files.length; i++) &#123;<br>  formData.append(<span class="hljs-string">&quot;files[]&quot;</span>, files[i]);<br>&#125;<br>xhr.send(formData);<br><span class="hljs-comment">// 跨域需要浏览器与服务器同时同意这种请求，使用方法与原来方法相同</span><br>xhr.open(<span class="hljs-string">&quot;GET&quot;</span>, <span class="hljs-string">&quot;https://www.example.com/&quot;</span>);<br><span class="hljs-comment">// 接受二进制图像</span><br>xhr.open(<span class="hljs-string">&quot;GET&quot;</span>, <span class="hljs-string">&quot;/path/to/image.png&quot;</span>);<br>xhr.responseType = <span class="hljs-string">&quot;blob&quot;</span>;<br><span class="hljs-keyword">const</span> binaryData = <span class="hljs-keyword">new</span> Blob([xhr.response], &#123; <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;image/png&quot;</span> &#125;);<br><span class="hljs-comment">// 进度信息</span><br><span class="hljs-comment">// 五个事件</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * load事件：传输成功完成。</span><br><span class="hljs-comment"> * abort事件：传输被用户取消。</span><br><span class="hljs-comment"> * error事件：传输中出现错误。</span><br><span class="hljs-comment"> * loadstart事件：传输开始。</span><br><span class="hljs-comment"> * loadEnd事件：传输结束，但是不知道成功还是失败。</span><br><span class="hljs-comment"> */</span><br>xhr.progress = updateProgress;<br>xhr.upload.onprogress = updateProgress;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateProgress</span>(<span class="hljs-params">event</span>) </span>&#123;<br>  <span class="hljs-keyword">if</span> (event.lengthComputable) &#123;<br>    <span class="hljs-keyword">var</span> percentComplete = event.loaded / event.total;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
<li><p>FormData 对象：模拟表单对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> $ = <span class="hljs-built_in">document</span>.querySelector;<br><span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> FormData();<br><span class="hljs-keyword">const</span> formData2 = <span class="hljs-keyword">new</span> FormData($(<span class="hljs-string">&quot;#form&quot;</span>)); <span class="hljs-comment">// 初始化已有表单</span><br>formData.append(<span class="hljs-string">&quot;username&quot;</span>, <span class="hljs-string">&quot;kilic&quot;</span>);<br>formData2.append(<span class="hljs-string">&quot;passwd&quot;</span>, <span class="hljs-string">&quot;123&quot;</span>);<br>xhr.open(formData2.method, formData2.action);<br>xhr.send(formDatat2); <span class="hljs-comment">//表单提交</span><br></code></pre></td></tr></table></figure></li>
<li><p>WebSocket：复用 HTTP 线路的轻量级通信协议</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 使用：</span><br><span class="hljs-keyword">const</span> socket = <span class="hljs-keyword">new</span> WebSocket(<span class="hljs-string">&#x27;ws://www.example.com&#x27;</span>);<br>socket.onopen = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>    socket.send(<span class="hljs-string">&#x27;send data&#x27;</span>);<br>&#125;<br>socket.onmessage = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>    parseData(e.data)<br>&#125;<br>socket.onclose = (e) = &#123;<br>    socket.onmessage = <span class="hljs-literal">null</span>;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;close&#x27;</span>);<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>总结几个问题：</p>
</li>
</ul>
<ol>
<li>最后的问面试官环节存在问题，应该准备万能问题，不能脑袋一抽瞎白活</li>
<li>准备一个开场白</li>
<li>复习以前总结的基础问题，很多已经开始忘记了</li>
<li>英语单词别瞎白活了，我就不适合说英语。。。。。。</li>
</ol>
      </section>
      <section class="extra">
        
        <ul class="copyright">
  
  <li><strong>本文作者：</strong>herin</li>
  <li><strong>本文链接：</strong><a href="https://kilicmu.github.io/2020/06/29/%E8%AE%B0%E5%BD%95%E5%87%A0%E4%B8%AA%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%9D%A2%E8%AF%95%E7%9A%84%E9%97%AE%E9%A2%98/index.html">https://kilicmu.github.io/2020/06/29/%E8%AE%B0%E5%BD%95%E5%87%A0%E4%B8%AA%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%9D%A2%E8%AF%95%E7%9A%84%E9%97%AE%E9%A2%98/index.html</a></li>
  <li><strong>版权声明：</strong>本博客所有文章均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh"
      rel="external nofollow" target="_blank"> BY-NC-SA </a>许可协议，转载请注明出处！</li>
  
</ul>
        
        
        <section class="donate">
  <div class="qrcode">
    <img   class="lazyload" data-original="/images/others/alipay.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" >
  </div>
  <div class="icon">
    <a href="javascript:;" id="alipay"><i class="iconfont iconalipay"></i></a>
    <a href="javascript:;" id="wechat"><i class="iconfont iconwechat-fill"></i></a>
  </div>
</section>
        
        
  <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" rel="tag">面试总结</a></li></ul>

        
<nav class="nav">
  
    <a href="/2020/07/04/%E8%A7%84%E8%8C%83%E8%AE%BE%E8%AE%A1RESTFUL-API/"><i class="iconfont iconleft"></i>规范设计RESTful API</a>
  
  
    <a href="/2020/06/23/%E5%B8%B8%E7%94%A8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/">常用排序算法总结<i class="iconfont iconright"></i></a>
  
</nav>

      </section>
      
      <section class="comments">
  
  <div class="btn" id="comments-btn">查看评论</div>
  
  
</section>
      
    </section>
  </div>
</article>
  </div>
</main>
  <footer class="footer">
  <div class="footer-social">
    
    
    
    
    
    <a href="tencent://message/?Menu=yes&uin=102483678 " target="_blank" onMouseOver="this.style.color= '#12B7F5'"
      onMouseOut="this.style.color='#33333D'">
      <i class="iconfont footer-social-item  iconQQ "></i>
    </a>
    
    
    
    
    
    <a href="javascript:; " target="_blank" onMouseOver="this.style.color= '#09BB07'"
      onMouseOut="this.style.color='#33333D'">
      <i class="iconfont footer-social-item  iconwechat-fill "></i>
    </a>
    
    
    
    
    
    <a href="https://www.instagram.com/kilicmu3/ " target="_blank" onMouseOver="this.style.color= '#DA2E76'"
      onMouseOut="this.style.color='#33333D'">
      <i class="iconfont footer-social-item  iconinstagram "></i>
    </a>
    
    
    
    
    
    <a href="https://github.com/kilicmu " target="_blank" onMouseOver="this.style.color= '#24292E'"
      onMouseOut="this.style.color='#33333D'">
      <i class="iconfont footer-social-item  icongithub-fill "></i>
    </a>
    
    
    
    
    
    <a href="kilicmu3389@outlook.com " target="_blank" onMouseOver="this.style.color='#FFBE5B'"
      onMouseOut="this.style.color='#33333D'">
      <i class="iconfont footer-social-item  iconmail"></i>
    </a>
    
  </div>
  <div class="footer-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/izhaoo/hexo-theme-zhaoo">zhaoo</a></p></div>
</footer>
  
      <div class="fab fab-plus">
    <i class="iconfont iconplus"></i>
  </div>
  
  <div class="fab fab-daovoice">
    <i class="iconfont iconcomment"></i>
  </div>
  
  <div class="fab fab-up">
    <i class="iconfont iconcaret-up"></i>
  </div>
  
</body>


<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>






<script src="https://cdn.bootcdn.net/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>






<script src="https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.js"></script>






<script src="/js/utils.js"></script>
<script src="/js/modules.js"></script>
<script src="/js/zui.js"></script>
<script src="/js/script.js"></script>





<script>
  (function (i, s, o, g, r, a, m) {
    i["DaoVoiceObject"] = r;
    i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o), m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    a.charset = "utf-8";
    m.parentNode.insertBefore(a, m)
  })(window, document, "script", ('https:' == document.location.protocol ? 'https:' : 'http:') +
    "//widget.daovoice.io/widget/0f81ff2f.js", "daovoice")
  daovoice('init', {
    app_id: "abcdefg"
  }, {
    launcher: {
      disableLauncherIcon: true,
    },
  });
  daovoice('update');
</script>



<script>
  (function () {
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    } else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>


<script>
  var _hmt = _hmt || [];
  (function () {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?4c204d8bc027a0455b5fc642ac334ca8";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>










</html>